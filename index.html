<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Encontre as melhores vagas no Work Lanjoni.">
    <meta name="keywords" content="trabalho, vagas, empregos, Work Lanjoni">
    <meta name="author" content="Work Lanjoni">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Lanjoni</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>



    <header>
        <div class="container">
            <nav class="nav-container">
                <div class="desktop-menu">
                    <a href="index.html" class="nav-link">Página Inicial</a>
                    <a href="sobre.html" class="nav-link" target="_blank">Sobre</a>
                    <a href="planosUsuario.html" class="nav-link">Planos</a>

                    <!-- Menu de autenticação para desktop -->
                    <div class="auth-buttons" id="authButtons">
                        <button class="btn-login" onclick="login()">Entrar</button>
                        <button class="btn-register" onclick="register()">Cadastrar</button>
                    </div>

                    <!-- Menu de usuário (Perfil, Salvos e Sair) -->
                    <div class="user-menu" id="userMenu" style="display: none;">
                        <button class="profile-btn">
                            <div class="profile-circle">
                                <img id="fotoPerfilMenu" src="img/usuarioPadrao.png" alt="Foto de Perfil">
                            </div>
                        </button>
                        <div class="dropdown-menu">
                            <a href="perfilUsuario.html" class="dropdown-item">Perfil</a>
                            <a href="salvas.html" class="dropdown-item">Salvos</a>
                            <button class="btn-logout" onclick="logout()">Sair</button>
                        </div>
                    </div>
                </div>

                <!-- Botão do Menu (hamburger) -->
                <div class="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

                <!-- Menu suspenso para telas pequenas -->
                <div class="mobile-menu">
                    <a href="perfilUsuario.html" class="mobile-link">Perfil</a>
                    <a href="salvas.html" class="dropdown-item">Salvos</a>

                    <!-- Círculo do perfil dentro do menu (só visível no menu em telas pequenas) -->
                    <div class="profile-circle">
                        <img id="fotoPerfilMenu" src="img/usuarioPadrao.png" alt="Foto de Perfil">
                    </div>

                    <button class="btn-logout" onclick="logout()">Sair</button>
                </div>

            </nav>
        </div>
    </header>





    <!-- Pop-up de aviso de login/cadastro -->
    <div id="loginSignupPopup" class="popup">
        <div class="popup-content">
            <h3>Por favor, faça login ou cadastro</h3>
            <p>Para aproveitar todos os recursos do nosso site, você precisa estar logado.</p>
            <div class="popup-buttons">
                <a href="login.html" class="popup-btn">Entrar</a>
                <a href="register.html" class="popup-btn">Cadastrar</a>
            </div>
            <button class="popup-close" onclick="closePopup()">Fechar</button>
        </div>
    </div>


    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Buscar por vaga..." oninput="filterVagas()">
        <input type="text" id="cityFilter" placeholder="Cidade" oninput="filterVagas()">

        <!-- Filtro de Tipo de Trabalho -->
        <select id="remoteFilter" onchange="filterVagas()">
            <option value="">Tipo de Trabalho</option>
            <option value="Home Office">Home Office</option>
            <option value="Presencial">Presencial</option>
        </select>

        <!-- Filtro de Data -->
        <select id="dateFilter" onchange="filterVagas()">
            <option value="">Data do Anúncio</option>
            <option value="24h">Últimas 24 horas</option>
            <option value="3d">Últimos 3 dias</option>
            <option value="7d">Últimos 7 dias</option>
            <option value="14d">Últimos 14 dias</option>
        </select>

        <!-- Filtro de Tipo de Vaga -->
        <select id="jobTypeFilter" onchange="filterVagas()">
            <option value="">Tipo de Vaga</option>
            <option value="Tempo Integral">Tempo Integral</option>
            <option value="Autônomo/PJ">Autônomo/PJ</option>
            <option value="Efetivo CLT">Efetivo CLT</option>
        </select>
    </div>







    <!-- Onde as vagas aparecerão -->
    <div id="vagasContainer" class="vagas-container">
        <div id="vagalists" class="vagas-list">
            <div id="vagalists2"></div>
            <!-- As vagas serão inseridas dinamicamente aqui -->
        </div>

    </div>







    <footer>
        <div class="container">
            <div class="footer-content">
                <!-- Resumo sobre o site -->
                <div class="about">
                    <h3>Sobre o Work Lanjoni</h3>
                    <p>O Work Lanjoni é uma plataforma inovadora para conectar empresas e candidatos, oferecendo as
                        melhores oportunidades de emprego. Nosso objetivo é facilitar a busca por talentos e ajudar
                        pessoas a alcançarem suas metas profissionais.</p>
                </div>

                <!-- Informações de Contato -->
                <div class="contact">
                    <h3>Contato</h3>
                    <p>Email: <a href="gustavosilva94514@gmail.com">gustavosilva94514@gmail.com</a></p>
                    <p>Telefone: <a href="tel:+5517996489436">(17) 99648-9436</a></p>
                    <p>Endereço: Cosmorama, SP</p>
                </div>

                <!-- Redes Sociais -->
                <div class="social">
                    <h3>Siga-nos</h3>
                    <div class="social-icons">
                        <a href="https://instagram.com/devlanjoni" target="_blank" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.tiktok.com/@gustavo_lanjoni" target="_blank" aria-label="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="https://www.youtube.com/@Devlanjoni" target="_blank" aria-label="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/gustavolanjoni/" target="_blank" aria-label="LinkedIn">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Direitos autorais -->
            <div class="footer-bottom">
                <p>&copy; Feito com muito <span class="heart">❤️</span> 2025 Work Lanjoni - Todos os direitos reservados
                </p>
            </div>

        </div>
    </footer>


    <!--Recuperar a vaga plano Basico-->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Recupera as vagas do localStorage
            const vagasPublicadas = JSON.parse(localStorage.getItem('planoBasico')) || [];

            // Função para exibir as vagas na página
            exibirVagas(vagasPublicadas);
        });

        // Função para exibir as vagas publicadas
        function exibirVagas(vagas) {
            const vagaListDiv = document.getElementById('vagalists'); // Div onde as vagas serão exibidas

            if (!vagaListDiv) {
                console.error("Elemento com ID 'vagalists' não encontrado no HTML.");
                return;
            }

            // Limpa a lista antes de reexibir
            vagaListDiv.innerHTML = '';

            // Loop para adicionar cada vaga à lista
            vagas.forEach(vaga => {
                const vagaDiv = document.createElement('div');
                vagaDiv.classList.add('vaga');

                // Verifica se a data de publicação existe antes de exibir
                const dataPublicacao = vaga.dataPublicacao ? new Date(vaga.dataPublicacao).toLocaleDateString() : "Data não disponível";

                // Adiciona as informações da vaga
                vagaDiv.innerHTML = `
            <h3>${vaga.nome}</h3>
            <p><strong>Descrição:</strong> ${vaga.descricao}</p>
            <p><strong>Contato:</strong> ${vaga.contato}</p>
            <p><strong>Benefícios:</strong> ${vaga.beneficio}</p>
            <p><strong>Salário:</strong> ${vaga.salario}</p>
            <p><strong>Requisitos:</strong> ${vaga.requisitos}</p>
            <p><strong>Local:</strong> ${vaga.local}</p>
            <p><strong>Carga Horária:</strong> ${vaga.cargaHoraria}</p>
            <p><strong>Tipo de Contratação:</strong> ${vaga.tipoContratacao}</p>
            <p><strong>Tipo de Vaga:</strong> ${vaga.tipoVaga}</p>
            <p><strong>Data de Publicação:</strong> ${dataPublicacao}</p>
            <button onclick="abrirDetalhes('${vaga.id}')">Ver Detalhes</button>
            <hr>
        `;

                // Adiciona a vaga à div #vagalists
                vagaListDiv.appendChild(vagaDiv);
            });
        }

        // Função para abrir os detalhes da vaga em outra página
        function abrirDetalhes(vagaId) {
            window.location.href = `detalhes.html?id=${vagaId}`;
        }

    </script>


    <!--Menu-->
    <script>
        // Seleciona o botão de menu e o menu
        const menuToggle = document.querySelector('.menu-toggle');
        const mobileMenu = document.querySelector('.mobile-menu');

        // Adiciona um evento de clique ao botão do menu
        menuToggle.addEventListener('click', function () {
            menuToggle.classList.toggle('active'); // Alterna a classe 'active' no botão de menu
        });
    </script>

    <!--Barra de pesquisa-->
    <script>
        function exibirVagas(vagas) {
            const vagasContainer = document.getElementById('vagalists');
            vagasContainer.innerHTML = ''; // Limpa o conteúdo antes de exibir as vagas filtradas

            if (vagas.length > 0) {
                vagas.forEach(vaga => {
                    const vagaDiv = document.createElement('div');
                    vagaDiv.classList.add('vaga-item');
                    vagaDiv.innerHTML = `
                <h3>${vaga.nome}</h3>
                <p>${vaga.descricao}</p>
                <p><strong>Cidade:</strong> ${vaga.cidade}</p>
                <p><strong>Tipo de Trabalho:</strong> ${vaga.tipoTrabalho}</p>
                <p><strong>Data de Anúncio:</strong> ${vaga.dataAnuncio}</p>
                <p><strong>Tipo de Vaga:</strong> ${vaga.tipoVaga}</p>
            `;
                    vagasContainer.appendChild(vagaDiv);
                });
            } else {
                vagasContainer.innerHTML = '<p>Nenhuma vaga encontrada.</p>';
            }
        }


    </script>





    <!--carrega a foto perfil-->
    <script>
        // Quando a página inicial for carregada, a foto do perfil será atualizada
        window.onload = function () {
            const fotoSalva = localStorage.getItem("fotoPerfil");
            if (fotoSalva) {
                // Atualiza a foto de perfil no menu
                document.getElementById("fotoPerfilMenu").src = fotoSalva;
            }
        };
    </script>




    <!--Vagas dos Planos-->
    <script src="js/enviarTelaUsuario.js"></script>

    <!--Vaga Plano Profissional-->
    <script src="js/enviarTelaUsuario2.js"></script>





    <script src="js/utils.js"></script>

    <!--Barra de pesquisa-->
    <script src="js/barraDePesquisa.js"></script>

    <!--pop-up / cadastro e login-->
    <script src="js/pop-up.js"></script>

    <!--Verfica se o usuario esta lagado ou não-->
    <script src="js/estadoLogin.js"></script>



</body>

</html>